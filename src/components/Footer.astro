---
import SearchModal from "./Utils/SearchModal.astro"
// æ”¹ä¸ºå†…è” ES æ¨¡å—å¯¼å…¥ï¼Œç¡®ä¿ç”Ÿäº§ç¯å¢ƒæ­£ç¡®ç¼–è¯‘å¹¶æ‰§è¡Œ TS è„šæœ¬
import LightDarkSwitch from "./Utils/LightDarkSwitch.astro";
import  {Icon}  from 'astro-icon/components'
---

<footer class="main-footer footer-type-1 text-xs">
    <div id="footer-tools" class="d-flex flex-column">
        <a href="javascript:" id="go-to-up" class="btn rounded-circle go-up m-1" rel="go-top">
            <Icon name="ri:arrow-up-line" />
        </a>

        <a href="javascript:" data-toggle="modal" data-target="#search-modal" class="btn rounded-circle m-1"
            rel="search" one-link-mark="yes">
            <Icon name="ri:search-line" />
        </a>
        
        <LightDarkSwitch />
    </div>
    <!-- åº•éƒ¨ä¿¡æ¯ -->
    <div class="footer-inner transition text-50 text-sm text-center">
        Powered by: ğŸª <a href="https://astro.build/">Astro</a> + <a href="https://github.com/WebStackPage/WebStackPage.github.io">Webstack</a>âœ¨
        <div class="flex flex-col items-center">
        <!-- è¿è¡Œæ—¶é—´å’Œè®¿é—®é‡åˆå¹¶åˆ°åŒä¸€è¡Œ -->
        <div id="runtime-container" class="flex items-center justify-center space-x-2">
        <span id="runningtime"></span>
        <span>|</span>
        <span>æœ¬ç½‘ç«™å·²è®¿é—® <span id="busuanzi_value_page_pv" style=" color: hsl(192 98% 55%); font-weight: bold; "></span> æ¬¡</span>
        <span>|</span>
        <span>æ€»è®¿å®¢ <span id="busuanzi_value_site_uv" style=" color: hsl(192 98% 55%); font-weight: bold; "></span> äºº</span>
        </div>
        <div class="footer-text">æœ¬ç«™å†…å®¹æºè‡ªäº’è”ç½‘ï¼Œå¦‚æœ‰å†…å®¹ä¾µçŠ¯äº†ä½ çš„æƒç›Šï¼Œè¯·è”ç³»åˆ é™¤ç›¸å…³å†…å®¹<br/></div>
        </div>
    </div>

    <script type="text/javascript">function runtime() {
        const t = new Date("06/25/2025 15:00:00"),
            n = new Date,
            s = n - t,
            e = Math.floor(s / 1e3),
            o = Math.floor(e / 86400),
            i = Math.floor(e % 86400 / 3600),
            a = Math.floor(e % 3600 / 60),
            r = e % 60;
        document.getElementById("runningtime").innerHTML = `â±ï¸æœ¬ç«™å·²è¿è¡Œ: ${o}å¤©${i}å°æ—¶${a}åˆ†${r}ç§’ `;
    }
    setInterval(runtime, 1e3);
    </script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer>



<!-- ç§»é™¤æœªä½¿ç”¨çš„äº¤äº’è„šæœ¬ï¼šTouch Punch ä¸ Clipboard -->

<!-- æ§åˆ¶å³ä¸‹è§’æœç´¢æ >... -->
<script type='text/javascript' id='popper-js-extra'>
var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
</script>
<!-- <script type='text/javascript' src='/js/popper.min.js' id='popper-js'></script> -->
<!-- è²Œä¼¼æ˜¯é€‚é…ä¸åŒè®¾å¤‡çš„jsï¼Œä¸èƒ½æ¢æˆç½‘ç»œå¼•ç”¨ï¼Œå½±å“ä¾§æ  -->
<!-- <script type='text/javascript' src='/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script> -->
<!-- å·²ç§»é™¤ç¬¬ä¸‰æ–¹ lazyloadï¼Œæ”¹ç”¨åŸç”Ÿæ‡’åŠ è½½ä¸ IntersectionObserver -->
<script id='native-lazyload' defer>
(() => {
  const imgs = document.querySelectorAll('img[data-src]');
  if (!imgs.length) return;
  const fallbackSrc = '/images/logo.png';
  const swap = (img) => {
    const src = img.getAttribute('data-src');
    if (!src) return;
    img.src = src;
    img.removeAttribute('data-src');
    img.addEventListener('error', () => { img.src = fallbackSrc; }, { once: true });
  };
  if (!('IntersectionObserver' in window)) {
    imgs.forEach(swap);
    return;
  }
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        const img = e.target;
        swap(img);
        obs.unobserve(img);
      }
    });
  });
  imgs.forEach(img => obs.observe(img));
})();
</script>

<script is:inline>
(function(){
  var mm = window.matchMedia('(max-width: 991.98px)');
  var enabled = false;
  var btn = document.getElementById('sidebar-switch');
  var sidebar = document.getElementById('sidebar');
  var panel = sidebar ? sidebar.querySelector('.sidebar-nav-inner') : null;
  function isHomePage(){
    return window.location.pathname === '/' || window.location.pathname === '/index.html';
  }
  function openSidebar(){
    if(!sidebar) return;
    sidebar.style.display = 'block';
    sidebar.classList.add('show');
    document.body.style.overflow = 'hidden';
  }
  function closeSidebar(){
    if(!sidebar) return;
    sidebar.classList.remove('show');
    sidebar.style.display = 'none';
    document.body.style.overflow = '';
  }
  function smoothScrollTo(target){
    if(!target) return;
    try{ target.scrollIntoView({ behavior: 'smooth', block: 'center' }); }catch(e){}
  }
  function onPrimaryClick(e){
    var link = e.currentTarget;
    e.preventDefault();
    e.stopPropagation();
    var li = link.closest('.sidebar-item');
    if(!li) return;
    var arrow = (e.target && e.target.closest) ? e.target.closest('.sidebar-more') : null;
    var hasSubmenu = li.classList.contains('has-submenu');
    if(arrow){ li.classList.toggle('sidebar-show'); return; }
    if(hasSubmenu){
      var wasOpen = li.classList.contains('sidebar-show');
      document.querySelectorAll('.sidebar-item.has-submenu').forEach(function(item){ if(item !== li) item.classList.remove('sidebar-show'); });
      if(!wasOpen){ li.classList.add('sidebar-show'); return; }
    }
    var cid = link.getAttribute('data-category-id') || '';
    if(!cid) return;
    var targetId = 'category-' + cid.toLowerCase().replace(/\s+/g,'-');
    if(!isHomePage()){ window.location.href = '/#' + targetId; return; }
    var targetEl = document.getElementById(targetId);
    if(targetEl){ smoothScrollTo(targetEl); }
  }
  function onSecondaryClick(e){
    var link = e.currentTarget;
    e.preventDefault();
    var cid = link.getAttribute('data-category-id') || '';
    if(!cid) return;
    var targetId = 'category-' + cid.toLowerCase().replace(/\s+/g,'-');
    if(!isHomePage()){ window.location.href = '/#' + targetId; return; }
    var targetEl = document.getElementById(targetId);
    if(targetEl){ smoothScrollTo(targetEl); }
  }
  function enable(){
    if(enabled) return; enabled = true;
    if(btn){ btn.addEventListener('click', function(e){ e.preventDefault(); openSidebar(); }); }
    if(panel){ panel.addEventListener('click', function(e){ e.stopPropagation(); }); }
    if(sidebar){
      sidebar.addEventListener('click', function(e){
        var t = e.target;
        if(t === sidebar){ e.preventDefault(); closeSidebar(); return; }
        e.stopPropagation();
      });
    }
    document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeSidebar(); });
    document.querySelectorAll('.sidebar-menu-inner .sidebar-item > a').forEach(function(el){ el.addEventListener('click', onPrimaryClick); });
    document.querySelectorAll('.sidebar-menu-inner .sidebar-item ul li a[data-category-id]').forEach(function(el){ el.addEventListener('click', onSecondaryClick); });
    document.querySelectorAll('#sidebar a[href="#friendlink"]').forEach(function(el){ el.addEventListener('click', function(e){
      e.preventDefault();
      if(!isHomePage()){ window.location.href = '/#friendlink'; return; }
      var targetEl = document.getElementById('friendlink');
      if(targetEl){ smoothScrollTo(targetEl); }
    }); });
  }
  function disable(){ if(!enabled) return; enabled = false; closeSidebar(); }
  function apply(m){ if(m.matches) enable(); else disable(); }
  try{ apply(mm); mm.addEventListener('change', apply); }catch(e){ enable(); }
})();
</script>
 

